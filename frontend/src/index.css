@tailwind base;
@tailwind components;
@tailwind utilities;

/* Brand colors (unchanged by theme; used for primary actions and sidebar) */
:root {
  --brand-primary: #0d9488;
  --brand-secondary: #0f766e;
}

/* Light theme – smooth, soft neutrals */
:root,
.light {
  --theme-bg: #f8fafc;
  --theme-bg-elevated: #ffffff;
  --theme-surface: #ffffff;
  --theme-surface-hover: #f1f5f9;
  --theme-border: #e2e8f0;
  --theme-border-subtle: #f1f5f9;
  --theme-text: #0f172a;
  --theme-text-secondary: #475569;
  --theme-text-muted: #64748b;
  --theme-text-inverse: #ffffff;
  --theme-input-bg: #ffffff;
  --theme-input-border: #cbd5e1;
  --theme-focus-ring: var(--brand-primary);
}

/* Dark theme – smooth, easy-on-the-eyes dark */
.dark {
  --theme-bg: #0f172a;
  --theme-bg-elevated: #1e293b;
  --theme-surface: #1e293b;
  --theme-surface-hover: #334155;
  --theme-border: #334155;
  --theme-border-subtle: #1e293b;
  --theme-text: #f1f5f9;
  --theme-text-secondary: #cbd5e1;
  --theme-text-muted: #94a3b8;
  --theme-text-inverse: #0f172a;
  --theme-input-bg: #1e293b;
  --theme-input-border: #475569;
  --theme-focus-ring: #2dd4bf;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--theme-bg);
  color: var(--theme-text);
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Smooth transitions for theme-aware elements */
.bg-theme-bg,
.bg-theme-surface,
.bg-theme-bg-elevated,
.text-theme-text,
.text-theme-muted,
.border-theme-border {
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

/* Dark theme: make hardcoded gray/slate text and surfaces visible */
.dark .text-gray-900,
.dark .text-gray-800,
.dark .text-gray-700 {
  color: var(--theme-text);
}
.dark .text-gray-600 {
  color: var(--theme-text-secondary);
}
.dark .text-gray-500,
.dark .text-gray-400 {
  color: var(--theme-text-muted);
}
.dark .text-slate-900,
.dark .text-slate-800,
.dark .text-slate-700 {
  color: var(--theme-text);
}
.dark .text-slate-600 {
  color: var(--theme-text-secondary);
}
.dark .text-slate-500,
.dark .text-slate-400 {
  color: var(--theme-text-muted);
}
.dark .bg-gray-50,
.dark .bg-gray-100 {
  background-color: var(--theme-surface-hover);
}
.dark .bg-gray-200 {
  background-color: var(--theme-border);
}
.dark .bg-white {
  background-color: var(--theme-surface);
}
.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: var(--theme-border);
}
.dark .hover\:bg-gray-50:hover,
.dark .hover\:bg-gray-100:hover {
  background-color: var(--theme-surface-hover);
}
.dark .hover\:text-gray-900:hover {
  color: var(--theme-text);
}
.dark .hover\:text-gray-700:hover {
  color: var(--theme-text);
}
.dark .hover\:text-gray-800:hover {
  color: var(--theme-text);
}
.dark .hover\:border-careplus-primary:hover {
  border-color: var(--theme-focus-ring);
}
.dark .disabled\:cursor-not-allowed:disabled {
  cursor: not-allowed;
}

/* Product page: scale-in starts hidden so stagger works; fade-in-up only for small elements */
.animate-scale-in { opacity: 0; }
.animate-scale-in[style*="animationDelay"] { animation-fill-mode: forwards; }
.animate-stagger-1 { animation-delay: 0.05s; }
.animate-stagger-2 { animation-delay: 0.1s; }
.animate-stagger-3 { animation-delay: 0.15s; }
.animate-stagger-4 { animation-delay: 0.2s; }
.animate-stagger-5 { animation-delay: 0.25s; }
.animate-stagger-6 { animation-delay: 0.3s; }
.animate-stagger-7 { animation-delay: 0.35s; }
.animate-stagger-8 { animation-delay: 0.4s; }
.animate-stagger-9 { animation-delay: 0.45s; }
.animate-stagger-10 { animation-delay: 0.5s; }
.animate-stagger-11 { animation-delay: 0.55s; }
.animate-stagger-12 { animation-delay: 0.6s; }

/* Button press feel */
.btn-press:active {
  transform: scale(0.97);
}
.transition-transform {
  transition-property: transform, box-shadow, background-color, color, border-color;
}

/* Catalog page – hero and layout (works in both embedded and standalone) */
.catalog-hero {
  background: linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-secondary) 50%, #0d9488 100%);
  color: #fff;
}
.catalog-hero-bg {
  background-image:
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(255,255,255,0.2) 0%, transparent 50%),
    radial-gradient(ellipse 60% 40% at 100% 100%, rgba(255,255,255,0.1) 0%, transparent 40%);
}
/* Hero typography */
.catalog-hero-text .catalog-hero-subtitle {
  letter-spacing: 0.01em;
}
/* Search box on hero – inline one line */
.catalog-hero .catalog-search-inline .catalog-search-input {
  color: var(--theme-text);
  background: var(--theme-surface);
}
.catalog-hero .catalog-search-inline .catalog-search-input::placeholder {
  color: var(--theme-text-muted);
}
.catalog-hero .catalog-search-hint {
  letter-spacing: 0.01em;
}
.catalog-product-card:focus-within {
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.15);
}
.dark .catalog-product-card:focus-within {
  box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.4);
}
/* Skeleton pulse for catalog cards */
.catalog-card-skeleton {
  animation: catalog-skeleton-pulse 1.5s ease-in-out infinite;
}
@keyframes catalog-skeleton-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.85; }
}

/* Loader: reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  [class*='animate-loader-spin'],
  [class*='animate-loader-pulse-ring'],
  [class*='animate-loader-dot'],
  [class*='animate-loader-shimmer'] {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
  [class*='animate-loader-shimmer']::before {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}
